<body>
    <div class="container-fluid mt-4">
        <div class="table-responsive">
            <h5 class="titulo-inventario">Inventario</h5>
            <table id="inventario" class="table table-striped table-bordered" style="width: 99%;">
                <thead>
                    <tr>
                        <th>SN</th>
                        <th>Dependencia</th>
                        <th>Marca</th>
                        <th>Formato</th>
                        <th>Nombre Equipo</th>
                        <th>IP Equipo</th>
                        <th>Usuario</th>
                        <th>Estado</th>
                        <th>Detalles</th>
                    </tr>
                </thead>
                <tbody id="tbodyinventario">

                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal contenedor para editar inventario -->
    <div class="modal fade" id="formEditarInventario" tabindex="-1" aria-labelledby="formEditarInventariolLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="formEditarInventariolLabel">Editar Equipo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Mensaje emergente si el equipo estaba desactivado -->
                    <div id="motivoDesactivacionContainer" class="alert alert-warning d-none">
                        <strong>Motivo de Desactivación:</strong> <span id="motivoDesactivacion"></span>
                        <button type="button" class="close" id="cerrarMotivoDesactivacion">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <form id="editarInventarioForm" class="needs-validation" novalidate="">
                        <input type="hidden" id="idInventario" value="91">
                        <div class="form-row">
                            <div class="col-md-1 mb-3">
                                <label for="sn">SN</label>
                                <input type="text" class="form-control" id="sn" placeholder="SN" disabled="">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="ip">IP</label>
                                <input type="text" class="form-control" id="ip" placeholder="IP">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="mac">MAC</label>
                                <input type="text" class="form-control" id="mac" placeholder="Direccion MAC">
                            </div>
                            <div class="col-md-2 mb-3">
                                <label for="datos">Datos</label>
                                <input type="text" class="form-control" id="datos" placeholder="Datos">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="procesador">Procesador</label>
                                <input type="text" class="form-control" id="procesador" placeholder="Procesador">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="tiporam">RAM</label>
                                <select class="form-control" id="tiporam">
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="cantidadram">Cantidad</label>
                                <input type="text" class="form-control" id="cantidadram" placeholder="RAM">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="tipoalmacenamiento">Storage</label>
                                <select class="form-control" id="tipoalmacenamiento">
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="cantidadalmacenamiento">Cantidad</label>
                                <input type="text" class="form-control" id="cantidadalmacenamiento"
                                    placeholder="Almacenamiento">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="formatoEquipo">Formato del Equipo</label>
                                <select class="form-control" id="formatoEquipo">
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="marca">Marca</label>
                                <select class="form-control" id="marca">
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="so">S.O</label>
                                <input type="text" class="form-control" id="so" placeholder="Sistema Operativo">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="nombreequipo">Nombre Equipo</label>
                                <input type="text" class="form-control" id="nombreequipo" placeholder="Nombre">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="sistemas">Cuenta Sistemas</label>
                                <select class="form-control" id="sistemas">
                                    <option value="1">Sí</option>
                                    <option value="0">No</option>
                                    <option value="2">No Aplica</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="dependencia">Dependencia</label>
                                <select class="form-control" id="dependencia"></select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="responsable">Responsable</label>
                                <input type="text" class="form-control" id="responsable" placeholder="Responsable">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="usuario">Usuario</label>
                                <input type="text" class="form-control" id="usuario" placeholder="Usuario">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="cargousuario">Cargo Usuario</label>
                                <input type="text" class="form-control" id="cargousuario"
                                    placeholder="Cargo del Usuario">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="mantenimiento">Mantenimiento</label>
                                <select class="form-control" id="mantenimiento">
                                    <option value="1">Aplica</option>
                                    <option value="0">No Aplica</option>
                                </select>
                            </div>
                            <div class="col-md-12 mb-3 d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <label for="observaciones">Observaciones</label>
                                    <textarea type="text" class="form-control" id="observaciones"
                                        placeholder="Escáner, impresoras, periféricos conectados, etc."></textarea>
                                </div>
                                <div class="ml-3">
                                    <button type="button" class="btn btn-fsvsaon" id="subirImagenesBtn"
                                        data-toggle="modal" data-target="#subirImagenesModal">
                                        <i class="fas fa-images"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer justify-content-between">
                    <!-- Botón de estado (Activar/Desactivar) a la izquierda -->
                    <button id="estadoEquipoBtn" class="btn btn-danger">Desactivar</button>
                    <div>
                        <button class="btn btn-fsvsaoff" type="button" data-dismiss="modal">Cerrar</button>
                        <button class="btn btn-fsvsaon" type="submit" id="guardarCambiosBtn">Guardar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL PARA SUBIR IMÁGENES -->
    <div class="modal fade" id="subirImagenesModal" tabindex="-1" aria-labelledby="subirImagenesModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="subirImagenesModalLabel">Imágenes</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="subirImagenesForm">
                        <div class="row">
                            <!-- Contenedor para la primera imagen -->
                            <div class="col-md-6 text-center position-relative">
                                <div class="border p-2 mb-2"
                                    style="display: flex; align-items: center; justify-content: center;">
                                    <img id="preview1" src="" alt="Vista previa 1"
                                        style="max-height: 100%; max-width: 100%; display: none;">
                                    <!-- Botón de descarga para la primera imagen -->
                                    <button id="download1" class="btn btn-fsvsaon position-absolute"
                                        style="top: 10px; left: 10px; display: none;">
                                        <i class="fa fa-download"></i>
                                    </button>
                                </div>
                                <input type="file" class="form-control" id="imagen1" accept="image/*">
                            </div>

                            <!-- Contenedor para la segunda imagen -->
                            <div class="col-md-6 text-center position-relative">
                                <div class="border p-2 mb-2"
                                    style="display: flex; align-items: center; justify-content: center;">
                                    <img id="preview2" src="" alt="Vista previa 2"
                                        style="max-height: 100%; max-width: 100%; display: none;">
                                    <!-- Botón de descarga para la segunda imagen -->
                                    <button id="download2" class="btn btn-fsvsaon position-absolute"
                                        style="top: 10px; left: 10px; display: none;">
                                        <i class="fa fa-download"></i>
                                    </button>
                                </div>
                                <input type="file" class="form-control" id="imagen2" accept="image/*">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-fsvsaoff" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-fsvsaon" id="guardarImagenesBtn">Guardar Imágenes</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/controllers/inventario/consultainventario.js"></script>
</body>